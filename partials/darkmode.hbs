<button class="gh-dark-mode-toggle gh-icon-button" aria-label="Toggle dark mode" title="Toggle dark mode">
    <span class="gh-dark-mode-icon">üåô</span>
    <span class="gh-light-mode-icon">‚òÄÔ∏è</span>
</button>

<script>
const toggleButton = document.querySelector('.gh-dark-mode-toggle');

toggleButton.addEventListener('click', () => {
    const html = document.querySelector('html');
    const root = document.documentElement;
    
    html.classList.toggle('has-light-text');
    
    if (html.classList.contains('has-light-text')) {
        root.style.setProperty('--background-color', '#000000');
        document.cookie = 'darkmode-prefered=true;path=/';
    } else {
        root.style.setProperty('--background-color', '#ffffff');
        document.cookie = 'darkmode-prefered=false;path=/';
    }
});

// Check saved preference or system preference
function initDarkMode() {
    const cookies = document.cookie.split(';');
    let preference = null;
    
    for (let cookie of cookies) {
        if (cookie.trim().startsWith('darkmode-prefered=')) {
            preference = cookie.trim().split('=')[1];
            break;
        }
    }
    
    const html = document.querySelector('html');
    const root = document.documentElement;
    
    if (preference === 'true' || (preference === null && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
        html.classList.add('has-light-text');
        root.style.setProperty('--background-color', '#0f0f0f');
    } else {
        html.classList.remove('has-light-text');
        root.style.setProperty('--background-color', '#e6e2d6');
    }
}

initDarkMode();
</script>